-- 创建数据库
CREATE DATABASE IF NOT EXISTS simple_todo_list CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

USE simple_todo_list;

-- 删除已存在的表（如果存在）
DROP TABLE IF EXISTS task;
DROP TABLE IF EXISTS user;

-- 创建用户表
create table user
(
    user_id       int auto_increment
        primary key,
    user_name     varchar(255) not null comment '3-16个非空字符',
    user_password varchar(255) not null comment '至少5个非空字符',
    create_time   datetime default CURRENT_TIMESTAMP comment '用户创建时间',
    task_count    int default 0 comment '用户创建的待办项总数',
    constraint user_name
        unique (user_name)
);

-- 创建任务表
create table task
(
    task_id      int auto_increment
        primary key,
    task_name    varchar(255) not null,
    status       tinyint(1)   not null comment '任务状态（未完成，已完成）',
    created_time datetime     not null,
    due_time     datetime     null,
    remind_time  datetime     null,
    user_id      int          null comment '拥有该任务的用户Id',
    start_time   datetime     null,
    description  varchar(255) null comment '详细说明',
    favourite    tinyint(1)   default 0 not null comment '收藏状态（0-未收藏，1-已收藏）'
);

-- 插入测试用户数据
INSERT INTO user (user_name, user_password, create_time) VALUES
('test', 'e10adc3949ba59abbe56e057f20f883e', NOW());

-- 为test用户插入30条2025年的待办事项
INSERT INTO task (task_name, status, created_time, start_time, due_time, remind_time, user_id, favourite, description) VALUES
('学习Vue3框架', 0, '2025-01-15 09:00:00', '2025-01-15 09:00:00', '2025-01-30 18:00:00', '2025-01-29 09:00:00', 1, 0, '深入学习Vue3 Composition API'),
('阅读技术书籍', 0, '2025-01-20 10:00:00', '2025-01-20 10:00:00', '2025-02-20 18:00:00', '2025-02-19 09:00:00', 1, 0, '阅读《Clean Code》'),
('健身计划', 0, '2025-02-01 08:00:00', '2025-02-01 08:00:00', '2025-12-31 23:59:00', '2025-02-01 07:30:00', 1, 0, '每周健身三次'),
('准备英语考试', 0, '2025-02-10 14:00:00', '2025-02-10 14:00:00', '2025-06-10 18:00:00', '2025-06-09 09:00:00', 1, 0, '准备雅思或托福考试'),
('整理个人项目', 0, '2025-03-01 09:30:00', '2025-03-01 10:00:00', '2025-03-15 18:00:00', '2025-03-14 09:00:00', 1, 0, '整理GitHub上的个人项目'),
('学习Docker容器', 0, '2025-03-05 11:00:00', '2025-03-05 11:00:00', '2025-03-25 18:00:00', '2025-03-24 09:00:00', 1, 0, '掌握Docker容器化技术'),
('研究微服务架构', 0, '2025-03-10 13:00:00', '2025-03-10 13:30:00', '2025-04-10 18:00:00', '2025-04-09 09:00:00', 1, 0, '研究Spring Cloud微服务架构'),
('开发个人博客', 0, '2025-04-01 09:00:00', '2025-04-01 09:00:00', '2025-05-01 18:00:00', '2025-04-30 09:00:00', 1, 0, '使用React开发个人技术博客'),
('学习Redis缓存', 0, '2025-04-05 14:00:00', '2025-04-05 14:00:00', '2025-04-25 18:00:00', '2025-04-24 09:00:00', 1, 0, '掌握Redis缓存技术'),
('准备面试题', 0, '2025-04-10 20:00:00', '2025-04-10 20:00:00', '2025-05-10 18:00:00', '2025-05-09 09:00:00', 1, 0, '准备Java后端开发面试题'),
('学习Kubernetes', 0, '2025-05-01 10:00:00', '2025-05-01 10:00:00', '2025-05-31 18:00:00', '2025-05-30 09:00:00', 1, 0, '掌握K8s容器编排技术'),
('编写技术文章', 0, '2025-05-05 15:00:00', '2025-05-05 15:00:00', '2025-05-25 18:00:00', '2025-05-24 09:00:00', 1, 0, '编写关于Spring Boot的技术文章'),
('学习消息队列', 0, '2025-05-10 09:00:00', '2025-05-10 09:00:00', '2025-06-10 18:00:00', '2025-06-09 09:00:00', 1, 0, '掌握RabbitMQ或Kafka消息队列'),
('优化个人简历', 0, '2025-06-01 19:00:00', '2025-06-01 19:00:00', '2025-06-15 18:00:00', '2025-06-14 09:00:00', 1, 0, '更新并优化个人技术简历'),
('学习设计模式', 0, '2025-06-05 08:00:00', '2025-06-05 08:30:00', '2025-07-05 18:00:00', '2025-07-04 09:00:00', 1, 0, '深入学习常见的设计模式'),
('参与开源项目', 0, '2025-06-15 13:00:00', '2025-06-15 13:00:00', '2025-09-15 18:00:00', '2025-09-14 09:00:00', 1, 0, '在GitHub上参与开源项目贡献'),
('学习大数据技术', 0, '2025-07-01 10:00:00', '2025-07-01 10:00:00', '2025-07-31 18:00:00', '2025-07-30 09:00:00', 1, 0, '了解Hadoop、Spark等大数据处理框架'),
('准备项目展示', 0, '2025-07-05 16:00:00', '2025-07-05 16:00:00', '2025-07-25 18:00:00', '2025-07-24 09:00:00', 1, 0, '准备个人项目的展示材料'),
('学习网络安全', 0, '2025-07-10 11:00:00', '2025-07-10 11:00:00', '2025-08-10 18:00:00', '2025-08-09 09:00:00', 1, 0, '了解常见的网络安全知识和防护措施'),
('学习DevOps', 0, '2025-08-01 14:00:00', '2025-08-01 14:00:00', '2025-08-31 18:00:00', '2025-08-30 09:00:00', 1, 0, '掌握CI/CD流程和相关工具'),
('完成在线课程', 0, '2025-08-05 20:00:00', '2025-08-05 20:00:00', '2025-10-05 18:00:00', '2025-10-04 09:00:00', 1, 0, '完成至少一门在线技术课程'),
('学习云服务', 0, '2025-08-15 09:00:00', '2025-08-15 09:00:00', '2025-09-15 18:00:00', '2025-09-14 09:00:00', 1, 0, '掌握AWS或阿里云等云服务平台'),
('准备技术认证', 0, '2025-09-01 08:00:00', '2025-09-01 08:00:00', '2025-12-01 18:00:00', '2025-11-30 09:00:00', 1, 0, '准备相关的技术认证考试'),
('学习人工智能', 0, '2025-09-05 15:00:00', '2025-09-05 15:00:00', '2025-10-05 18:00:00', '2025-10-04 09:00:00', 1, 0, '了解机器学习和深度学习基础知识'),
('完成年度总结', 0, '2025-10-01 10:00:00', '2025-10-01 10:00:00', '2025-12-01 18:00:00', '2025-11-30 09:00:00', 1, 0, '完成年度技术学习总结'),
('学习区块链', 0, '2025-10-10 13:00:00', '2025-10-10 13:00:00', '2025-11-10 18:00:00', '2025-11-09 09:00:00', 1, 0, '了解区块链技术原理和应用场景'),
('参加技术会议', 0, '2025-11-01 09:00:00', '2025-11-01 09:00:00', '2025-11-01 18:00:00', '2025-10-31 09:00:00', 1, 0, '参加线上或线下的技术交流会议'),
('学习测试技术', 0, '2025-11-05 14:00:00', '2025-11-05 14:00:00', '2025-12-05 18:00:00', '2025-12-04 09:00:00', 1, 0, '掌握自动化测试和性能测试技术'),
('完成项目重构', 0, '2025-11-15 10:00:00', '2025-11-15 10:00:00', '2025-12-15 18:00:00', '2025-12-14 09:00:00', 1, 0, '重构现有的个人项目代码'),
('准备新年计划', 0, '2025-12-01 16:00:00', '2025-12-01 16:00:00', '2025-12-31 18:00:00', '2025-12-30 09:00:00', 1, 0, '制定下一年度的学习和工作计划');